<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>画像・動画圧縮ツール</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🗜️ メディア圧縮ツール</h1>
            <p class="subtitle">画像・動画を一括で圧縮してZIPでダウンロード</p>
        </header>

        <div class="tabs">
            <button class="tab-button active" data-tab="image">画像圧縮</button>
            <button class="tab-button" data-tab="video">動画圧縮</button>
        </div>

        <div class="tab-content active" id="image-tab">
            <div class="drop-zone" id="image-drop-zone">
                <div class="drop-zone-content">
                    <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
                    </svg>
                    <p class="drop-text">画像をドラッグ＆ドロップ</p>
                    <p class="drop-subtext">または、ここをクリックして画像を選択</p>
                    <p class="supported-formats">対応形式: PNG, JPG, JPEG, GIF, BMP, WEBP, SVG</p>
                    <input type="file" id="image-input" accept="image/*" multiple hidden>
                </div>
            </div>

            <div class="compression-settings">
                <label for="image-quality">圧縮品質:</label>
                <div class="quality-control">
                    <input type="range" id="image-quality" min="10" max="100" value="80">
                    <span id="image-quality-value">80%</span>
                </div>
                <label for="image-max-width">最大幅 (px):</label>
                <input type="number" id="image-max-width" placeholder="オリジナルサイズを維持" min="100">
            </div>

            <div class="file-list" id="image-file-list"></div>

            <div class="action-buttons">
                <button id="compress-images-btn" class="compress-btn" disabled>
                    <span class="btn-text">画像を圧縮</span>
                    <span class="spinner"></span>
                </button>
                <button id="download-images-btn" class="download-btn" disabled>ZIPでダウンロード</button>
                <button id="clear-images-btn" class="clear-btn" disabled>クリア</button>
            </div>

            <div class="stats" id="image-stats"></div>
        </div>

        <div class="tab-content" id="video-tab">
            <div class="drop-zone" id="video-drop-zone">
                <div class="drop-zone-content">
                    <svg class="upload-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" />
                    </svg>
                    <p class="drop-text">動画をドラッグ＆ドロップ</p>
                    <p class="drop-subtext">または、ここをクリックして動画を選択</p>
                    <p class="supported-formats">対応形式: MP4, MOV, AVI, MKV, WEBM</p>
                    <input type="file" id="video-input" accept="video/*" multiple hidden>
                </div>
            </div>

            <div class="compression-settings">
                <label for="video-quality">圧縮レベル:</label>
                <select id="video-quality">
                    <option value="high">高品質 (低圧縮)</option>
                    <option value="medium" selected>中品質 (バランス)</option>
                    <option value="low">低品質 (高圧縮)</option>
                </select>
                <label for="video-resolution">解像度:</label>
                <select id="video-resolution">
                    <option value="original" selected>オリジナル</option>
                    <option value="1080p">1080p</option>
                    <option value="720p">720p</option>
                    <option value="480p">480p</option>
                </select>
            </div>

            <div class="file-list" id="video-file-list"></div>

            <div class="action-buttons">
                <button id="compress-videos-btn" class="compress-btn" disabled>
                    <span class="btn-text">動画を圧縮</span>
                    <span class="spinner"></span>
                </button>
                <button id="download-videos-btn" class="download-btn" disabled>ZIPでダウンロード</button>
                <button id="clear-videos-btn" class="clear-btn" disabled>クリア</button>
            </div>

            <div class="stats" id="video-stats"></div>
        </div>

        <div class="progress-bar" id="progress-bar">
            <div class="progress-fill"></div>
            <span class="progress-text">0%</span>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="script.js"></script>

    <footer class="retro-footer">
        <div class="rainbow-text">
            <span class="blink">誰でも通えて、AIと起業が学べる未来型教室</span>
        </div>
        <a href="https://if-juku.net" target="_blank" class="retro-link">
            <marquee behavior="alternate" scrollamount="3">
                ★☆★ if(塾)はこちら ★☆★
            </marquee>
        </a>
    </footer>
</body>
</html>